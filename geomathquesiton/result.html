<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Geomath ‚Äî Class Summary</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* small overrides for results page */
    .results { max-width:780px; margin:28px auto; padding:22px; background:#f8f5fb; border-left:6px solid #6a0dad; border-radius:10px; text-align:center; }
    .score-box { display:inline-block; padding:18px 28px; background:#fff; border-radius:12px; border:2px solid #ece6f8; margin-bottom:16px; font-size:28px; color:#6a0dad; font-weight:700; }
    .rating { font-size:20px; margin:12px 0 10px; font-weight:600; }
    .advice { background:#fff; padding:12px 16px; border-radius:8px; border:1px solid #eee; display:inline-block; max-width:640px; }
    .landscape { margin-top:18px; font-size:22px; font-weight:700; }
  </style>
</head>
<body>

  <header>
    <h1>Geomath </h1>
    <div class="language-switch">
      <button onclick="setLanguage('zh')">‰∏≠Êñá</button>
      <button onclick="setLanguage('ms')">Bahasa Melayu</button>
      <button onclick="setLanguage('en')">English</button>
    </div>
  </header>

  <main>
    <section class="quiz-section lang zh">
      <h2>Áè≠Á∫ßÊàêÁª©ÁªüËÆ°</h2>
      <div class="results" aria-live="polite">
        <div class="score-box" id="totalScore">ÊÄªÂàÜ: 0 / 10</div>
        <div id="ratingText" class="rating">Á≠âÁ∫ß</div>
        <div id="adviceText" class="advice"></div>
        <div id="landscape" class="landscape"></div>
        <div style="margin-top:14px;">
          <button onclick="resetAll()" class="btn">Ê∏ÖÈô§ËÆ∞ÂΩïÂπ∂ÈáçÁΩÆ</button>
          <button onclick="location.href='geomathquestion.html'" class="btn">ÂõûÂà∞ÁªÉ‰π†È°µ</button>
        </div>
      </div>

      <div style="max-width:780px;margin:18px auto;">
        <h3>ÂàÜÈ°π</h3>
        <ul id="detailList" style="background:#fff;padding:14px;border-radius:8px;border:1px solid #eee;"></ul>
      </div>
    </section>

    <section class="quiz-section lang ms hidden">
      <h2>Ringkasan Markah Kelas</h2>
      <div class="results" aria-live="polite">
        <div class="score-box" id="totalScoreMs">Jumlah: 0 / 10</div>
        <div id="ratingTextMs" class="rating">Gred</div>
        <div id="adviceTextMs" class="advice"></div>
        <div id="landscapeMs" class="landscape"></div>
        <div style="margin-top:14px;">
          <button onclick="resetAll()" class="btn">Kosongkan Rekod</button>
          <button onclick="location.href='geomathquestion.html'" class="btn">Kembali ke Latihan</button>
        </div>
      </div>
      <div style="max-width:780px;margin:18px auto;">
        <h3>Butiran</h3>
        <ul id="detailListMs" style="background:#fff;padding:14px;border-radius:8px;border:1px solid #eee;"></ul>
      </div>
    </section>

    <section class="quiz-section lang en hidden">
      <h2>Class Score Summary</h2>
      <div class="results" aria-live="polite">
        <div class="score-box" id="totalScoreEn">Total: 0 / 10</div>
        <div id="ratingTextEn" class="rating">Rating</div>
        <div id="adviceTextEn" class="advice"></div>
        <div id="landscapeEn" class="landscape"></div>
        <div style="margin-top:14px;">
          <button onclick="resetAll()" class="btn">Clear Records</button>
          <button onclick="location.href='geomathquestion.html'" class="btn">Back to Practice</button>
        </div>
      </div>
      <div style="max-width:780px;margin:18px auto;">
        <h3>Details</h3>
        <ul id="detailListEn" style="background:#fff;padding:14px;border-radius:8px;border:1px solid #eee;"></ul>
      </div>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 Geomath </p>
  </footer>

  <script>
    function getStoredInt(key) {
      const v = localStorage.getItem(key);
      if (!v) return 0;
      const n = parseInt(v, 10);
      return Number.isFinite(n) ? n : 0;
    }

    function ratingFor(total) {
      // mapping to requested labels: 0,3,5,7,10
      if (total === 0) return { cls: 'bad', zh: 'ÂæàÂ∑Æ', ms: 'Buruk', en: 'Bad', adviceZh: 'ÈúÄË¶ÅÊõ¥Â§öÁªÉ‰π†„ÄÇ', adviceMs: 'Perlu lebih latihan.', adviceEn: 'Needs more practice.', landscape: 'üåßÔ∏è 0 - Bad' };
      if (total <= 3) return { cls: 'try', zh: 'ÂÜçÂä™Âäõ', ms: 'Cuba lagi', en: 'Try more', adviceZh: 'ËØ∑Â§ç‰π†ÈîôËØØÈ¢òÁõÆÂπ∂ÈáçËØï„ÄÇ', adviceMs: 'Sila ulang kaji soalan yang salah.', adviceEn: 'Review incorrect items and try again.', landscape: 'üå•Ô∏è 3 - Try more' };
      if (total <= 5) return { cls: 'keep', zh: 'ÁªßÁª≠Âä™Âäõ', ms: 'Teruskan', en: 'Keep going', adviceZh: 'Ë°®Áé∞‰∏çÈîôÔºåÁªßÁª≠‰øùÊåÅËøõÊ≠•„ÄÇ', adviceMs: 'Bagus, teruskan usaha.', adviceEn: 'Good effort, keep improving.', landscape: '‚õÖ 5 - Keep going' };
      if (total <= 7) return { cls: 'good', zh: 'ËâØÂ•Ω', ms: 'Baik', en: 'Good', adviceZh: 'ÂæàÊ£íÔºåÁªßÁª≠Â∑©Âõ∫Áü•ËØÜ„ÄÇ', adviceMs: 'Bagus, kukuhkan pengetahuan.', adviceEn: 'Well done, consolidate your knowledge.', landscape: 'üå§Ô∏è 7 - Good' };
      return { cls: 'best', zh: 'ÊÅ≠Âñú', ms: 'Tahniah', en: 'Congratulations', adviceZh: 'ÈùûÂ∏∏‰ºòÁßÄÔºåÁªßÁª≠‰øùÊåÅÔºÅ', adviceMs: 'Sangat cemerlang!', adviceEn: 'Excellent work, keep it up!', landscape: 'üåü 10 - Congratulations' };
    }

    function render() {
      const p1 = getStoredInt('geomath_part1'); // 0..5
      const p2 = getStoredInt('geomath_part2'); // 0..5
      const total = Math.max(0, Math.min(10, p1 + p2));

      const r = ratingFor(total);

      // zh
      document.getElementById('totalScore').textContent = `ÊÄªÂàÜ: ${total} / 10`;
      document.getElementById('ratingText').textContent = r.zh;
      document.getElementById('adviceText').textContent = r.adviceZh;
      document.getElementById('landscape').textContent = r.landscape;
      document.getElementById('detailList').innerHTML = `<li>È¢òÁõÆ 1‚Äì5: ${p1} / 5</li><li>È¢òÁõÆ 6‚Äì10: ${p2} / 5</li>`;

      // ms
      document.getElementById('totalScoreMs').textContent = `Jumlah: ${total} / 10`;
      document.getElementById('ratingTextMs').textContent = r.ms;
      document.getElementById('adviceTextMs').textContent = r.adviceMs;
      document.getElementById('landscapeMs').textContent = r.landscape;
      document.getElementById('detailListMs').innerHTML = `<li>Soalan 1‚Äì5: ${p1} / 5</li><li>Soalan 6‚Äì10: ${p2} / 5</li>`;

      // en
      document.getElementById('totalScoreEn').textContent = `Total: ${total} / 10`;
      document.getElementById('ratingTextEn').textContent = r.en;
      document.getElementById('adviceTextEn').textContent = r.adviceEn;
      document.getElementById('landscapeEn').textContent = r.landscape;
      document.getElementById('detailListEn').innerHTML = `<li>Questions 1‚Äì5: ${p1} / 5</li><li>Questions 6‚Äì10: ${p2} / 5</li>`;
    }

    function resetAll() {
      localStorage.removeItem('geomath_part1');
      localStorage.removeItem('geomath_part2');
      render();
      alert('ËÆ∞ÂΩïÂ∑≤Ê∏ÖÈô§');
    }

    function setLanguage(lang) {
      document.querySelectorAll('.lang').forEach(el => el.classList.add('hidden'));
      const el = document.querySelector('.' + lang);
      if (el) el.classList.remove('hidden');
    }

    // init
    setLanguage('en');
    render();
  </script>

</body>
</html>